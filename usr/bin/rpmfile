#! /bin/bash
# use rpm databas with command name
# Copyright Â© 2013, Ojuba Team <core@ojuba.org>

# Released under terms of Waqf Public License.
#    This program is free software; you can redistribute it and/or modify
#    it under the terms of the latest version Waqf Public License as
#    published by Ojuba.org.
#
#    This program is distributed in the hope that it will be useful,
#    but WITHOUT ANY WARRANTY; without even the implied warranty of
#    MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.
#
#    The Latest version of the license can be found on
#    "http://waqf.ojuba.org/license"

ARGS=$@
RPMARGS=$(echo ${ARGS} | egrep  -o '\-\-?[^ ]*\s*')

for ARG in ${ARGS}
do
    if [ -f "${ARG}" ]
    then
        FILES="${FILES} ${ARG}"
    else
        FILES="${FILES} $(which ${ARG} 2>/dev/null | egrep -v alias)"
    fi
done
rpm -qf $FILES ${RPMARGS}
